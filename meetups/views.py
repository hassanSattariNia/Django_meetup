from django.shortcuts import render
from django.http import HttpResponse
from .models import Meetup


# Create your views here.
# request paramaeter automaticall generated by Django
def index(request):

    # return HttpResponse('Hello World!')
    # now we have to return html file as response

    # dynamic data show on template
    meetups = Meetup.objects.all()  
    return render(request, 'meetups/index.html', {
        'meetups': meetups,
        'show_meetups': False
    })


def meetup_details(request,meetup_slug):
    try:
        selected_meetup = Meetup.objects.get(slug=meetup_slug)
        return render(request, 'meetups/meetup-details.html',
                    { 
                        'meetup_found':True,
                        'selected_meetup': selected_meetup
                    })
    except Exception as exc:
        return render(request, 'meetups/meetup-details.html',{
            'meetup_found':False
        })
